[{"D:\\repositories\\autoware\\micacake\\src\\index.js":"1","D:\\repositories\\autoware\\micacake\\src\\styles\\global.js":"2","D:\\repositories\\autoware\\micacake\\src\\util\\format.js":"3","D:\\repositories\\autoware\\micacake\\src\\pages\\Home\\index.js":"4","D:\\repositories\\autoware\\micacake\\src\\components\\Header\\index.js":"5","D:\\repositories\\autoware\\micacake\\src\\services\\api.js":"6","D:\\repositories\\autoware\\micacake\\src\\pages\\Cart\\index.js":"7","D:\\repositories\\autoware\\micacake\\src\\components\\Header\\styles.js":"8","D:\\repositories\\autoware\\micacake\\src\\App.js":"9","D:\\repositories\\autoware\\micacake\\src\\pages\\Home\\styles.js":"10","D:\\repositories\\autoware\\micacake\\src\\pages\\Cart\\styles.js":"11","D:\\repositories\\autoware\\micacake\\src\\components\\index.js":"12","D:\\repositories\\autoware\\micacake\\src\\Context\\CartContext.js":"13","D:\\repositories\\autoware\\micacake\\src\\routes.js":"14"},{"size":360,"mtime":1612300831321,"results":"15","hashOfConfig":"16"},{"size":540,"mtime":1612304405600,"results":"17","hashOfConfig":"16"},{"size":127,"mtime":1612301974153,"results":"18","hashOfConfig":"16"},{"size":1753,"mtime":1612428984761,"results":"19","hashOfConfig":"16"},{"size":671,"mtime":1612428781043,"results":"20","hashOfConfig":"16"},{"size":124,"mtime":1612302939629,"results":"21","hashOfConfig":"16"},{"size":2902,"mtime":1612428852201,"results":"22","hashOfConfig":"16"},{"size":830,"mtime":1612428474465,"results":"23","hashOfConfig":"16"},{"size":2858,"mtime":1612427959567,"results":"24","hashOfConfig":"16"},{"size":1395,"mtime":1612340398139,"results":"25","hashOfConfig":"16"},{"size":1581,"mtime":1612428443300,"results":"26","hashOfConfig":"16"},{"size":45,"mtime":1612301483526,"results":"27","hashOfConfig":"16"},{"size":107,"mtime":1612427735807,"results":"28","hashOfConfig":"16"},{"size":348,"mtime":1612428210791,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"1i8v4oj",{"filePath":"33","messages":"34","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"35","messages":"36","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"37","messages":"38","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"44","messages":"45","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"46","messages":"47","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"50","messages":"51","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\repositories\\autoware\\micacake\\src\\index.js",[],["60","61"],"D:\\repositories\\autoware\\micacake\\src\\styles\\global.js",[],"D:\\repositories\\autoware\\micacake\\src\\util\\format.js",[],"D:\\repositories\\autoware\\micacake\\src\\pages\\Home\\index.js",["62"],"import React, { useState, useEffect, useContext, useMemo, useCallback } from \"react\";\r\nimport { MdAddShoppingCart } from \"react-icons/md\";\r\nimport { formatPrice } from \"../../util/format\";\r\nimport api from \"../../services/api\";\r\n\r\nimport CartContext from \"../../Context/CartContext\";\r\n\r\nimport { Container, ProductList } from \"./styles\";\r\n\r\nfunction Home() {\r\n  const { cart, addToCart } = useContext(CartContext);\r\n\r\n  const [products, setProducts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function loadProducts() {\r\n      const response = await api.get(\"products\");\r\n\r\n      const data = response.data.map((product) => ({\r\n        ...product,\r\n        priceFormatted: formatPrice(product.price),\r\n      }));\r\n\r\n      setProducts(data);\r\n    }\r\n\r\n    loadProducts();\r\n  }, []);\r\n\r\n  const handleAddProduct = useCallback(async (id) => {\r\n    await addToCart(id);\r\n  }, [addToCart]);\r\n\r\n  const amount = useCallback((id) => {\r\n    const item = cart.find(x => x.id === id);\r\n    if(item)\r\n      return item.amount;\r\n\r\n    return 0;\r\n  }, [cart]);\r\n\r\n  return (\r\n    <Container>\r\n      <ProductList>\r\n        {products.map((product) => (\r\n          <li key={String(product.id)}>\r\n            <img src={product.image} alt={product.title} />\r\n            <strong>{product.title}</strong>\r\n            <span>{product.priceFormatted}</span>\r\n\r\n            <button type=\"button\" onClick={() => handleAddProduct(product.id)}>\r\n              <div>\r\n                <MdAddShoppingCart size={16} color=\"#FFF\" />\r\n                {amount(product.id) || 0}\r\n              </div>\r\n\r\n              <span>ADICIONAR AO CARRINHO</span>\r\n            </button>\r\n          </li>\r\n        ))}\r\n      </ProductList>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","D:\\repositories\\autoware\\micacake\\src\\components\\Header\\index.js",[],"D:\\repositories\\autoware\\micacake\\src\\services\\api.js",[],"D:\\repositories\\autoware\\micacake\\src\\pages\\Cart\\index.js",[],"D:\\repositories\\autoware\\micacake\\src\\components\\Header\\styles.js",[],"D:\\repositories\\autoware\\micacake\\src\\App.js",[],"D:\\repositories\\autoware\\micacake\\src\\pages\\Home\\styles.js",[],"D:\\repositories\\autoware\\micacake\\src\\pages\\Cart\\styles.js",[],"D:\\repositories\\autoware\\micacake\\src\\components\\index.js",[],"D:\\repositories\\autoware\\micacake\\src\\Context\\CartContext.js",[],"D:\\repositories\\autoware\\micacake\\src\\routes.js",[],{"ruleId":"63","replacedBy":"64"},{"ruleId":"65","replacedBy":"66"},{"ruleId":"67","severity":1,"message":"68","line":1,"column":50,"nodeType":"69","messageId":"70","endLine":1,"endColumn":57},"no-native-reassign",["71"],"no-negated-in-lhs",["72"],"no-unused-vars","'useMemo' is defined but never used.","Identifier","unusedVar","no-global-assign","no-unsafe-negation"]